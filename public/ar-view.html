<!DOCTYPE html>
<html>
  <head>
    <title>Markerless AR - Show Camera Position</title>
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="https://cdn.rawgit.com/jeromeetienne/ar.js/1.7.0/aframe/build/aframe-ar.js"></script>
  </head>
  <body style="margin: 0; overflow: hidden;">
    <script>
      AFRAME.registerComponent('camera-tracker', {
        tick: function () {
          const camera = document.querySelector('#cam');
          const hud = document.querySelector('#hud');

          if (camera && hud) {
            const worldPosition = new THREE.Vector3();
            const worldRotation = new THREE.Euler();

            // Get world position and rotation of the camera
            camera.object3D.getWorldPosition(worldPosition);
            camera.object3D.getWorldRotation(worldRotation);

            const message =
              `üìçPos: x=${worldPosition.x.toFixed(2)}, y=${worldPosition.y.toFixed(2)}, z=${worldPosition.z.toFixed(2)}\n` +
              `üîÑRot: x=${THREE.Math.radToDeg(worldRotation.x).toFixed(2)}, y=${THREE.Math.radToDeg(worldRotation.y).toFixed(2)}, z=${THREE.Math.radToDeg(worldRotation.z).toFixed(2)}`;

            hud.setAttribute('value', message);
          }
        }
      });
    </script>

    <a-scene
      embedded
      camera-tracker
      arjs="sourceType: webcam; facingMode: environment; debugUIEnabled: false;"
      vr-mode-ui="enabled: false"
    >
      <!-- Camera -->
      <a-entity 
        id="cam" 
        camera 
        look-controls
      >
        <a-text
          id="hud"
          value="Initializing..."
          position="0 0 -0.5"
          align="center"
          width="0.2"
          color="white"
        ></a-text>
      </a-entity>
    </a-scene>
  </body>
</html>
